puts "============"
puts "BUC60882"
puts "============"
puts ""
#######################################################################
## The edge is corrupted after applying command "fsameparameter": tolerance is increased up to 1e+50
#######################################################################

pload XDE

restore [locate_data_file BUC60882_samepar.brep] result

# Check input shape.
set che [checkshape result]
if { [regexp {Faulty} $che ] == 1 } {
    puts "Warning BUC60882: Source shape is NOT correct. It was detected by Checkshape command"
} else {
    puts "BUC60882 OK: Source shape is valid"
}

fsameparameter result 1e-5

# Check result tolerance.
regexp {Tolerance +MAX=([-0-9.+eE]+)} [tolerance result] full aResTol
set aMaxTol 0.072
if { $aResTol > $aMaxTol } {
    puts [format "Faulty BUC60882 : Tolerance of Result edge increased and it is equal to %s" $aResTol]
} else {
    puts " BUC60882 OK: Tolerance of Result edge is less or equal to tolerance of Sourse edge."
}

# Check result properties.
checkprops result -l 1768.53 
checkshape result
checksection result
checkview -display result -2d -path ${imagedir}/${test_image}.png
