puts "========"
puts "OCC29115"
puts "========"
puts ""
#################################################
# [Regression] GeomAdaptor mistakenly reports non-periodic curves to be periodic
#################################################

pload QAcommands

bsplinecurve c1 4 3 0 5 3.1415926535897931 3 6.2831853071795862 5 0 20 100 1 -14.1421356237309 20 106.594586144012 1 -34.9044110322929 0 116.276194167748 1 -14.1421356237311 -20 106.594586144013 1 14.142135623731 -20 93.4054138559873 1 34.904411032293 0 83.7238058322526 1 14.1421356237309 20 93.4054138559873 1 0 20 100 1 

revsurf s1 c1 -0.654999286110387, 8.14738225247612, 100.305431183199 0.906307787036651, -3.94430452610506e-031, -0.422618261740697 

setperiodic c1

revsurf s2 c1 -0.654999286110387, 8.14738225247612, 100.305431183199 0.906307787036651, -3.94430452610506e-031, -0.422618261740697 

## 
if { ! [regexp "U-trimm is possible.\nV-trimm is possible." [OCC29115s s1 0 2*pi 0 1] ] } {
  puts "Error in \"s1 0 2*pi 0 1\"-bounds computation "
}

if { ! [regexp "U-trimm is possible.\nV-trimm is possible." [OCC29115s s2 0 2*pi 0 1] ] } {
  puts "Error in \"s2 0 2*pi 0 1\"-bounds computation "
}

##

if { ! [regexp "U-trimm is possible.\nV-trimm is not possible." [OCC29115s s1 10*pi 12*pi -0.2 1] ] } {
  puts "Error in \"s1 10*pi 12*pi -0.2 1\"-bounds computation "
}

if { ! [regexp "U-trimm is possible.\nV-trimm is possible." [OCC29115s s2 10*pi 12*pi -0.2 1] ] } {
  puts "Error in \"s2 10*pi 12*pi -0.2 1\"-bounds computation "
}

##

if { ! [regexp "U-trimm is not possible.\nV-trimm is not possible." [OCC29115s s1 -pi 2*pi 0.5 1.5] ] } {
  puts "Error in \"s1 -pi 2*pi 0.5 1.5\"-bounds computation "
}

if { ! [regexp "U-trimm is not possible.\nV-trimm is not possible." [OCC29115s s2 -pi 2*pi 0.5 1.5] ] } {
  puts "Error in \"s2 -pi 2*pi 0.5 1.5\"-bounds computation "
}

